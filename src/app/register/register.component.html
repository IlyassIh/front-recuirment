<section class="container register">
    <a href="" class="image"><img src="/ih logo black.png" alt=""></a>

    <form [formGroup]="registerForm" (ngSubmit)="register()">
        <h4>Ready to take the next step?</h4>
        <p class="title">Create an account or sign in.</p>
        <p>
            By clicking any of the ‘Continue’ options below, you understand and agree to Indeed's Terms.
            You also acknowledge our <a [routerLink]="'/terms'">Cookie and Privacy policies.</a>
            You will receive marketing messages from Indeed and may opt out at any time.
        </p>

        <!-- Name Fields -->
        <div class="fullName">
            <mat-form-field>
                <mat-label>First name</mat-label>
                <input matInput formControlName="nom">
                <small class="text-danger"
                    *ngIf="submited && registerForm.get('nom')?.invalid">Enter Your first name</small>
                <small class="text-danger" *ngIf="registerForm.get('nom')?.valid && backendField === 'nom'">
                    {{ backendMessage }}
                </small>

            </mat-form-field>

            <mat-form-field>
                <mat-label>Last name</mat-label>
                <input matInput formControlName="prenom">
                <small class="text-danger"
                    *ngIf="submited && registerForm.get('prenom')?.invalid">Enter Your last name</small>
                <small class="text-danger" *ngIf="backendField === 'prenom'">{{ backendMessage }}</small>

            </mat-form-field>
        </div>

        <!-- Email -->
        <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput placeholder="pat@example.com" formControlName="email">
            <small class="text-danger" *ngIf="backendField === 'email'">{{ backendMessage }}</small>

        </mat-form-field>

        <!-- Passwords -->
        <div class="passwords">
            <mat-form-field>
                <mat-label>Enter password</mat-label>
                <input matInput formControlName="password" [type]="hide() ? 'password' : 'text'">
                <small class="text-danger" *ngIf="backendField === 'password'">{{ backendMessage }}</small>
                <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)">
                    <mat-icon>{{ hide() ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>

            </mat-form-field>

            <mat-form-field>
                <mat-label>Confirm password</mat-label>
                <input matInput formControlName="confirmPassword" [type]="hideSecond() ? 'password' : 'text'">
                <small class="text-danger" *ngIf="backendField === 'confirmPassword'">{{ backendMessage }}</small>
                <button type="button" mat-icon-button matSuffix (click)="clickEventSecond($event)">
                    <mat-icon>{{ hideSecond() ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
            </mat-form-field>
        </div>

        <!-- Role -->
        <mat-form-field>
            <mat-label>Role</mat-label>
            <mat-select formControlName="role">
                <mat-option *ngFor="let role of roles" [value]="role._id">{{ role.role }}</mat-option>
            </mat-select>

        </mat-form-field>

        <button mat-flat-button color="primary">
            Submit
        </button>
        <p class="mt-3">Already have an account? <a [routerLink]="'/login'">Login</a></p>
    </form>
</section>